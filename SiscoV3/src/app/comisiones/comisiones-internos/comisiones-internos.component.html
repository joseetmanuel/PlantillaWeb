<div [ngClass]="{'desactiva': loading }">
  <mat-spinner *ngIf='false' class="spinner"></mat-spinner>
  <app-breadcrumbs *ngIf="breadcrumb" [ruta]="breadcrumb"></app-breadcrumbs>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <div *ngIf="!false">
      <div class="row">
        <div class="col-sm-12 col-md-12 col-xl-12">

          <div class="row">
            <div class="col-sm-12 col-md-3 col-xl-3 sinPadd">
              <div class="card-shadow-primary card-border text-white mb-0 card altura230Us">
                <div class="dropdown-menu-header">
                  <div class="dropdown-menu-header-inner">
                    <div class="menu-header-content">
                      <div class="avatar-icon-wrapper mb-3 avatar-icon-xl">
                        <div class="avatar-icon"><img src="./assets/images/avatars/13.png" alt="Avatar 5"></div>
                        <!-- <app-viewer [IViewer]="IViewer"></app-viewer> -->
                      </div>
                      <div>
                        <h5 class="menu-header-title textoGris">{{usuarioComision.nombreCompleto}}</h5>
                        <h6 class="menu-header-subtitle textoGris">Gerente de ventas</h6>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="text-center d-block card-footer">
                </div>
                <div class="IconVendedor">
                  <img [src]="urlImagen" alt="">
                  <p [style.color]="'#29468E'">{{usuarioComision.nivel}}</p>
                </div>

              </div>
            </div>

            <!-- Puntos -->

            <div class="col-sm-12 col-md-2 col-lg-2 sinPadd">
              <div
                class="widget-chart widget-chart2 text-left mb-0 card-btm-border card-shadow-danger border-danger card altrura230 bottom0">
                <div class="widget-chat-wrapper-outer altrura230">
                  <div class="widget-chart-content altrura230">
                    <div class="widget-chart widget-chart-hover dataRepCard altrura230">
                      <div class="icon-wrapper rounded-circle circulo">
                        <div class="icon-wrapper-bg bg-danger"></div>
                        <img src="./assets/images/iconos-panel/acumuladas.png" class="imgTop" alt="">
                      </div>
                      <div class="descCard">
                        <div class="widget-numbers text-danger montos">$2,679.50</div>
                        <div class="widget-subheading descMonto">Puntos</div>
                      </div>
                      <div class="widget-description text-primary">
                        <button mat-button class="btnCanPun">
                          <img src="./assets/images/iconos-sisco/disponer_rojo.png" style="width: 20px;" alt="">
                          <span class="text-danger">Canjear Puntos</span>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Comisiones disponibles -->

            <div class="col-sm-12 col-md-2 col-lg-2 sinPadd">
              <div
                class="widget-chart widget-chart2 text-left mb-0 card-btm-border card-shadow-primary border-primary card altrura230 bottom0">
                <div class="widget-chat-wrapper-outer altrura230">
                  <div class="widget-chart-content altrura230">
                    <div class="widget-chart widget-chart-hover dataRepCard altrura230">
                      <div class="icon-wrapper rounded-circle circulo">
                        <div class="icon-wrapper-bg bg-primary"></div>
                        <img src="./assets/images/iconos-panel/disponibles.png" class="imgTop" alt="">
                      </div>
                      <div class="descCard">
                        <div class="widget-numbers montos textoAzul">{{ totales.totalDisponible | currency }}</div>
                        <div class="widget-subheading descMonto">Comisiones disponibles</div>
                      </div>
                      <div class="widget-description text-primary">
                        <button mat-button class="btnDispEfe" [disabled]="totales.totalDisponible == 0"
                          [routerLink]="['/sel-comisiones-disponibles-internos', idUsuarioComision ]">
                          <img src="./assets/images/iconos-sisco/disponer_azul.png" alt="">
                          <span>Disponer efectivo</span>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- comisiones cobradas -->

            <div class="col-sm-12 col-md-2 col-lg-2 sinPadd">
              <div
                class="widget-chart widget-chart2 text-left mb-0 card-btm-border card-shadow-success border-success card altrura230 bottom0">
                <div class="widget-chat-wrapper-outer altrura230">
                  <div class="widget-chart-content altrura230">
                    <div class="widget-chart widget-chart-hover dataRepCard altrura230">
                      <div class="icon-wrapper rounded-circle circulo">
                        <div class="icon-wrapper-bg bg-success"></div>
                        <img src="./assets/images/iconos-panel/cobradas.png" class="imgTop" alt="">
                      </div>
                      <div class="descCard">
                        <div class="widget-numbers text-success montos">{{ totales.totalCobrado | currency }}</div>
                        <div class="widget-subheading descMonto">Comisiones cobradas</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Canjear puntos -->

            <div class="col-sm-12 col-md-2 col-lg-2 sinPadd">
              <div
                class="widget-chart widget-chart2 text-left mb-0 card-btm-border card-shadow-warning border-warning card altrura230 bottom0">
                <div class="widget-chat-wrapper-outer altrura230">
                  <div class="widget-chart-content altrura230">
                    <div class="widget-chart widget-chart-hover dataRepCard altrura230">
                      <div class="icon-wrapper rounded-circle circulo">
                        <div class="icon-wrapper-bg bg-warning"></div>
                        <img src="./assets/images/iconos-panel/cobradas.png" class="imgTop" alt="">
                      </div>
                      <div class="descCard">
                        <div class="widget-numbers text-warning montos">{{ totales.totalGanado | currency }}</div>
                        <div class="widget-subheading descMonto">Total Comisiones</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>




      <div class="row mt-3">
        <!-- Comisiones del mes -->
        <div class="col-sm-12 col-md-12 col-xl-12 sinPadd">
          <div class="card mb-3 card-tabbed-header">
            <ngb-tabset class="tabs-animated tabs-animated-line">
              <ngb-tab *ngFor="let algo of comisiones">
                <ng-template ngbTabTitle><span>{{ algo.contrato }} </span></ng-template>
                <ng-template ngbTabContent>
                  <div class="row">
                    <div class="col-md-6 col-sm-12">
                      <div>
                        Reglas de Deducci√≥n
                      </div>
                      <app-grid-component [datos]="algo.periodo" [gridOptions]="gridOptions" [columns]="columns" [Detail]="Detail"
                        [exportExcel]="exportExcel" [columnHiding]="columnHiding" [Checkbox]="Checkbox"
                        [Editing]="Editing" [Columnchooser]="Columnchooser" [searchPanel]="searchPanel"
                        [scroll]="scroll" [toolbar]="toolbar" (editevent)="editevent($event)"
                        [columnsdetail]="columnsdetail" [toolbardetail]="toolbardetail" keyDetalle="'detalle'"
                        (datosevent)='datosMessage($event)'>
                      </app-grid-component>
                    </div>


                    <div class="col-md-6 col-sm-12">
                      <div>
                        Comisiones Por Mes
                      </div>
                      <div style="display: block;">
                        <dx-chart palette="Violet" [dataSource]="algo.periodo">
                          <dxi-series valueField="comisionGanada" [name]="algo.contrato">
                          </dxi-series>
                          <dxo-common-series-settings #seriesSettings argumentField="periodo" type="line">
                          </dxo-common-series-settings>
                          <dxo-margin [bottom]="20"></dxo-margin>
                          <dxo-argument-axis [valueMarginsEnabled]="false" discreteAxisDivisionMode="crossLabels">
                            <dxo-grid [visible]="true"></dxo-grid>
                          </dxo-argument-axis>
                          <dxo-legend verticalAlignment="bottom" horizontalAlignment="center" itemTextPosition="bottom">
                          </dxo-legend>
                          <!-- <dxo-title text="Energy Consumption in 2004">
                            <dxo-subtitle text="(Millions of Tons, Oil Equivalent)">
                            </dxo-subtitle>
                          </dxo-title> -->
                          <dxo-export [enabled]="true"></dxo-export>
                        </dx-chart>
                      </div>
                    </div>
                  </div>
                </ng-template>
              </ngb-tab>
            </ngb-tabset>
          </div>
        </div>
        <!-- Detalle de las comisiones -->
        <div class="col-sm-9 col-md-9 col-xl-9 sinPadd">

        </div>
      </div>
    </div>
  </div>
</div>
