<div [ngClass]="{'desactiva': spinner }">
    <mat-spinner *ngIf='spinner' class="spinner"></mat-spinner>
    <ng-container *ngIf="operador && operador.length > 0; else breadcrumbInsert">
        <app-breadcrumbs [ruta]="breadcrumb">
        </app-breadcrumbs>
    </ng-container>
    <ng-template #breadcrumbInsert>
        <app-breadcrumbs [ruta]="breadcrumbIns"></app-breadcrumbs>
    </ng-template>
    <!--Informacion de el usuario-operador-->
    <mat-card>
        <div class="row cardMargin">
            <div class="col-sm-12 col-md-12 col-xl-12">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <img class='imagenIconoGris'
                        src="./assets/images/iconos-sisco/Objetos/operador/operador-automovil.png">
                    &nbsp;&nbsp;&nbsp;
                    <span>Información personal</span>
                </div>
                <hr>
                <div class="col-sm-12 col-md-12 col-xl-12">
                    <div class='row' *ngIf="dataUser">
                        <div class="col-sm-12 col-md-6 col-xl-6">
                            <app-viewer [IViewer]="IViewerOperador">
                            </app-viewer>
                        </div>
                        <div class="col-sm-12 col-md-6 col-xl-6" *ngFor="let user of dataUser">
                            <p><b>Nombre: </b> {{user.PrimerNombre}} {{user.SegundoNombre}}
                                {{user.PrimerApellido}} {{user.SegundoApellido}}<br>
                                <b>Correo electrónico: </b> {{user.Email}} <br>

                            </p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </mat-card>
    <br>
    <!-- div propiedades de objeto -->
    <mat-card class="cardMarginBottom">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <img class='imagenIconoGris'
                        src="../../../assets/images/iconos-sisco/Objetos/operador/operador-datos-automovil.png">
                    &nbsp;&nbsp;&nbsp;
                    <span>Dirección del operador</span>
                </div>
            </div>
        </div>
        <hr>
        <div [formGroup]="operadorForm">
            <div class='row'>
                <div class="col-sm-12 col-md-6 col-xl-6">
                    <mat-form-field class="inputFullWide">
                        <input maxlength='5' #cp matInput placeholder="Código postal *" (focusout)="GetCp()"
                            (keydown)="onKeydown($event)" formControlName="cp" [errorStateMatcher]="matcher">
                        <mat-error>
                            El campo es
                            <strong>requerido</strong>(5 caracteres)
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 col-md-6 col-xl-6">
                    <mat-form-field class="inputFullWide">
                        <input matInput placeholder="Estado *" formControlName="estado" [errorStateMatcher]="matcher">
                        <mat-error>
                            El campo es
                            <strong>requerido</strong>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-sm-12 col-md-6 col-xl-6">
                    <mat-form-field class="inputFullWide">
                        <input #municipio matInput placeholder="Município *" formControlName="municipio"
                            [errorStateMatcher]="matcher">
                        <mat-error>
                            El campo es
                            <strong>requerido</strong>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class='row'>
                <div class="col-sm-12 col-md-6 col-xl-6">
                    <mat-form-field class="inputFullWide">
                        <mat-select placeholder="Tipo asentamiento *" formControlName="tipoAsentamiento"
                            [errorStateMatcher]="matcher">
                            <mat-option *ngFor='let tipoAsentamiento of tipoAsentamientos'
                                [value]="tipoAsentamiento.idTipoAsentamiento">
                                {{tipoAsentamiento.nombre}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            El campo es
                            <strong>requerido</strong>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-sm-12 col-md-6 col-xl-6">
                    <mat-form-field class="inputFullWide">
                        <input matInput placeholder="Asentamiento *" maxlength='500' formControlName="asentamiento"
                            [matAutocomplete]="auto" [errorStateMatcher]="matcher">
                        <mat-autocomplete #auto="matAutocomplete">
                            <mat-option *ngFor="let asentamiento of asentamientos"
                                [value]="asentamiento.nombreAsentamiento">
                                {{asentamiento.nombreAsentamiento}}
                            </mat-option>
                        </mat-autocomplete>
                        <mat-error>
                            El campo es
                            <strong>requerido</strong>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class='row'>
                <div class='col-sm-12 col-md-6 col-xl-6'>
                    <mat-form-field class="inputFullWide">
                        <mat-select placeholder="Tipo vialidad *" formControlName="tipoVialidad"
                            [errorStateMatcher]="matcher">
                            <mat-option *ngFor='let tipoVialidad of tipoVialidades'
                                [value]="tipoVialidad.idTipoVialidad">
                                {{tipoVialidad.nombre}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            El campo es
                            <strong>requerido</strong>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class='col-sm-12 col-md-6 col-xl-6'>
                    <mat-form-field class="inputFullWide">
                        <input matInput placeholder="Vialidad *" maxlength='500' formControlName="vialidad"
                            [errorStateMatcher]="matcher">
                        <mat-error>
                            El campo es
                            <strong>requerido</strong>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class='row'>
                <div class="col-sm-12 col-md-6 col-xl-6">
                    <mat-form-field class="inputFullWide">
                        <input matInput maxlength='250' placeholder="No. Ext / Mz. Lt."
                            formControlName='numeroExterior'>
                    </mat-form-field>
                </div>
                <div class="col-sm-12 col-md-6 col-xl-6">
                    <mat-form-field class="inputFullWide">
                        <input matInput maxlength='250' placeholder="No. Int" formControlName='numeroInterior'>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 col-md-12 col-lg-12">
                    <button class="mb-2 mr-2 btn-square border-0 btn-transition btn btn-outline-primary float-right"
                        (click)='ModificarOperador()' [disabled]="!operadorForm.valid">
                        <i class="pe-7s-diskette btn-icon-wrapper"></i>
                        Guardar
                    </button>
                </div>
            </div>
        </div>
    </mat-card>
    <mat-card *ngIf="operadorObjetos && operadorObjetos.length > 0">
        <div class="row cardMargin">
            <div class="col-sm-12 col-md-12 col-xl-12">
                <div class="col-sm-12 col-md-12 col-xl-12">
                    <img class='imagenIconoGris'
                        src="./assets/images/iconos-sisco/Objetos/sh_objeto-sel-card-automovil.png">
                    &nbsp;&nbsp;&nbsp;
                    <span>Vehículos asignados</span>
                    <hr>
                    <app-grid-component *ngIf="columns && operadorObjetos.length > 0" [datos]="operadorObjetos"
                        [gridOptions]="gridOptions" [columns]="columns" [columnHiding]="columnHiding"
                        [Checkbox]="Checkbox" [Editing]="Editing" [Columnchooser]="Columnchooser"
                        [exportExcel]="exportExcel" [searchPanel]="searchPanel" [scroll]="scroll" [toolbar]="toolbar">
                    </app-grid-component>
                </div>
            </div>
        </div>
    </mat-card>
    <br>
</div>