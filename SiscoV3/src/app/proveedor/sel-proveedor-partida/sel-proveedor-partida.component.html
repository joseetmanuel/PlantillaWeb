<div [ngClass]="{'desactivaPantalla': spinner }">
    <mat-spinner *ngIf='spinner' class="spinner"></mat-spinner>
    <app-breadcrumbs *ngIf="breadcrumb" [ruta]="breadcrumb"></app-breadcrumbs>

    <mat-card class='cardMarginBottom'>
        <div class="row">
            <div class="col-sm-12 col-md-12 col-xl-12">
                <div class="col-sm-12 col-md-12 col-xl-12">
                    <div *ngFor="let objeto of modulo.camposClase" style="display: inline;">
                        <img *ngIf="objeto.nombre=='LogoCardTipoObjeto'" class='imagenIconoGris' [src]="objeto.path">
                        <span *ngIf="objeto.nombre=='LogoCardTipoObjeto'">&nbsp;&nbsp;&nbsp;</span>
                    </div>
                    <div *ngFor="let objeto of modulo.camposClase" style="display: inline;">
                        <span *ngIf="objeto.nombre=='TituloCardTipoObjeto'">{{objeto.label}}</span>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="col-sm-12 col-md-12 col-lg-12" [formGroup]="newObjetoForm">
            <dx-drop-down-box #dropBox formControlName="idTipoObjeto" [(value)]="idTipoObjeto" valueExpr="idTipoObjeto"
                displayExpr="marcaSub" placeholder="Selecciona la submarca" [showClearButton]="true"
                [dataSource]="gridDataSource" (onValueChanged)="closeWindow(dropBox)">
                <div *dxTemplate="let data of 'content'">
                    <dx-data-grid [dataSource]="gridDataSource"
                        [columns]="['idTipoObjeto', 'Combustible', 'Clase', 'Marca','Submarca', 'Cilindros', 'USO']"
                        [selection]="{ mode: 'single'}" [hoverStateEnabled]="true"
                        [paging]="{ enabled: true, pageSize: 10 }" [filterRow]="{ visible: true }"
                        [scrolling]="{ mode: 'infinite' }" [height]="345"
                        (onSelectionChanged)="onChangedTipoObjeto($event);">
                    </dx-data-grid>
                </div>
            </dx-drop-down-box>
        </div>
    </mat-card>
    <header-tipoobjeto-automovil [idTipoObjeto]="idTipoObjeto" [idClase]="idClase" *ngIf="idTipoObjeto && !spinner">
    </header-tipoobjeto-automovil>
    <br />
    <mat-card class='cardMargin' *ngIf='!spinner'>
        <div class="row">
            <div class="col-sm-12 col-md-12 col-xl-12">
                <div class="col-sm-12 col-md-12 col-xl-12">
                    <div *ngFor="let objeto of modulo.camposClase" style="display: inline;">
                        <img *ngIf="objeto.nombre=='LogoCard'" class='imagenIconoGris' [src]="objeto.path">
                        <span *ngIf="objeto.nombre=='LogoCard'">&nbsp;&nbsp;&nbsp;</span>
                    </div>
                    <div *ngFor="let objeto of modulo.camposClase" style="display: inline;">
                        <span *ngIf="objeto.nombre=='TituloCard'">{{objeto.label}}</span>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <app-grid-component *ngIf="columns" [datos]="partidas" [columns]="columns" [Checkbox]="Checkbox"
            [Editing]="Editing" [Columnchooser]="Columnchooser" [searchPanel]="searchPanel" [scroll]="scroll"
            (onRowUpdated)="OnRowUpdated($event)" (editevent)='datosUpd($event)' (messageEvent)="receiveMessage($event)"
            (datosevent)='datosMessage($event)' [toolbar]="toolbar">
        </app-grid-component>
    </mat-card>
</div>